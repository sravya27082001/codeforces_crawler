{%extends "info/base.html" %}
{% load crispy_forms_tags %}
{% block content %}
<h2>Info</h2>
      <h4> Handle: {{handle}}</h4>
      {%if rank%}
         <h4> Rank: {{rank}}</h4>
         <h4> Rating: {{rating}}</h4>
         <h4> maxRank: {{maxRank}}</h4>
         <h4> maxRating: {{maxRating}}</h4>
        {%endif%}


<div class="chart-parent--container">
    <div id="myChart" class="chart--container">
      <a class="zc-ref" href="https://www.zingchart.com">Powered by ZingChart</a>
    </div>
    <div id="myChart1" class="chart--container">
      <a class="zc-ref" href="https://www.zingchart.com">Powered by ZingChart</a>
    </div>
    <div id="myChart2" class="chart--container">
      <a class="zc-ref" href="https://www.zingchart.com">Powered by ZingChart</a>
    </div>
  </div>

  <script>
    ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
    var myConfig1 = {
      "type": "line",
      "utc": true,
      "title": {
        "text": "Ratings",
        "font-size": "20px",
        "adjust-layout": true
      },
      "plotarea": {
        "margin": "dynamic 5 30 dynamic",
      },
      "legend": {
        "layout": "float",
        "background-color": "none",
        "border-width": 0,
        "shadow": 0,
        "align": "center",
        "adjust-layout": true,
        "toggle-action": "remove",
        "item": {
          "padding": 7,
          "marginRight": 17,
          "cursor": "hand"
        }
      },
      "scale-x": {
        "min-value": 1,
        "shadow": 0,
        "step": 1,
        "transform": {
          "guide": {
            "visible": false
          },
          "item": {
            "text": "Date",
          }
        },
        "label": {
          "visible": false
        },
        "minor-ticks": 0
      },
      "scale-y": {
        "values": "0:2000:50",
        "line-color": "#f6f7f8",
        "shadow": 0,
        "guide": {
          "line-style": "dashed"
        },
        "label": {
          "text": "Rating",
        },
        "minor-ticks": 0,
        "thousands-separator": ","
      },
      "crosshair-x": {
        "line-color": "#efefef",
        "plot-label": {
          "border-radius": "5px",
          "border-width": "1px",
          "border-color": "#f6f7f8",
          "padding": "10px",
          "font-weight": "bold"
        },
        "scale-label": {
          "font-color": "#000",
          "background-color": "#f6f7f8",
          "border-radius": "5px"
        }
      },
      "tooltip": {
        "visible": false
      },
      "plot": {
        "highlight": true,
        "tooltip-text": "%t views: %v<br>%k",
        "shadow": 0,
        "line-width": "2px",
        "marker": {
          "type": "circle",
          "size": 2
        },
        "highlight-state": {
          "line-width": 3
        },
        "animation": {
          "effect": 1,
          "sequence": 2,
          "speed": 100,
        }
      },
      "series": [{
          "values": {{li}},
          "text": "Ratings",
          "line-color": "#007790",
          "legend-item": {
            "background-color": "#007790",
            "borderRadius": 5,
            "font-color": "white"
          },
          "legend-marker": {
            "visible": false
          },
          "marker": {
            "background-color": "#007790",
            "border-width": 1,
            "shadow": 0,
            "border-color": "#69dbf1"
          },
          "highlight-marker": {
            "size": 4,
            "background-color": "#007790",
          }
        }
      ]
    };

    var myConfig2 = {
        type: 'bar',
        "title": {
          "text": "Problem_Status",
          "font-size": "20px",
          "align": "center"
        },
        'scale-x': {
     labels: ['OK', 'WRONG_ANSWER', 'TIME_LIMIT_EXCEEDED', 'COMPILATION_ERROR', 'RUNTIME_ERROR', 'MEMORY_LIMIT_EXCEEDED']
   },
   'scale-y': {
     "line-color": "#f6f7f8",
     "shadow": 0,

     "label": {
       "text": "No of problems solved",
     },
     "minor-ticks": 0,
     "font-size": "20px"
   },

        series: [
        {
          values: {{li2}}
        }
        ]
        };
        var myConfig3= {
            type: 'bar',
            "title": {
              "text": "Problem_Status",
              "font-size": "20px",
              "align": "center",
            },

            series: [
            {
              values: {{li1}}
            }
            ]
            };

    zingchart.render({
      id: 'myChart',
      data: myConfig1,
      height: '100%',
      width: '100%'
    });

    zingchart.render({
      id: 'myChart1',
      data: myConfig2,
      height: '100%',
      width: '1000px'
    });
    zingchart.render({
      id: 'myChart2',
      data: myConfig3,
      height: '100%',
      width: '1000px'
    });

  </script>
</div>
{% endblock %}
